<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>⛈️ Thời tiết 63 tỉnh</title>
<link rel="manifest" href="manifest.json">
<style>
:root {
    --bg-light: #e0f7fa;
    --bg-dark: #121212;
    --text-light: #000;
    --text-dark: #fff;
}
body {
    font-family: 'Segoe UI', sans-serif;
    margin: 0;
    padding: 0;
    transition: background-color 0.3s, color 0.3s;
}
body.light { background-color: var(--bg-light); color: var(--text-light); }
body.dark { background-color: var(--bg-dark); color: var(--text-dark); }

.container { max-width: 1000px; margin: 0 auto; padding: 20px; }
header { text-align: center; margin-bottom: 20px; }
header h1 { margin-bottom: 10px; }
.datetime { font-size: 1.1em; margin-bottom: 10px; }
button { padding: 10px 15px; margin: 5px; border: none; border-radius: 10px; cursor: pointer; }
button:hover { opacity: 0.8; }

.weather-container { display: flex; flex-wrap: wrap; gap: 15px; justify-content: center; }
.weather-card { flex: 1 1 300px; background: rgba(255,255,255,0.2); backdrop-filter: blur(10px); padding: 15px; border-radius: 15px; text-align: center; min-width: 280px; }

.weather-card iframe { width: 100%; height: 300px; border: none; border-radius: 10px; }

.sound-controls { text-align: center; margin-top: 10px; }
</style>
</head>
<body>
<div class="container">
    <header>
        <h1>Thời tiết Việt Nam</h1>
        <div class="datetime">
            <span id="time"></span> | <span id="date"></span>
        </div>
        <button id="theme-toggle">Chế độ tối/sáng</button>
    </header>

    <main>
        <div class="sound-controls">
            <button data-sound="rain">Mưa</button>
            <button data-sound="thunder">Sấm</button>
            <button data-sound="cicada">Ve</button>
        </div>
        <div class="weather-container" id="weather-container">
            <!-- Widget thời tiết sẽ được chèn ở đây -->
        </div>
    </main>
</div>

<script>
// Danh sách 63 tỉnh thành Việt Nam với link widget chuẩn
const regions = [
  { id:'HaGiang', name:'Hà Giang', src:'https://thoitiet.vn/embed/jdiakujaz?days=5' },
  { id:'CaoBang', name:'Cao Bằng', src:'https://thoitiet.vn/embed/gqclguzxv?days=5' },
  { id:'BacKan', name:'Bắc Kạn', src:'https://thoitiet.vn/embed/xgtqruwqo?days=5' },
  { id:'TuyenQuang', name:'Tuyên Quang', src:'https://thoitiet.vn/embed/bjhrzuvxy?days=5' },
  { id:'LaoCai', name:'Lào Cai', src:'https://thoitiet.vn/embed/yvsapulmz?days=5' },
  { id:'DienBien', name:'Điện Biên', src:'https://thoitiet.vn/embed/apfgdujwm?days=5' },
  { id:'LaiChau', name:'Lai Châu', src:'https://thoitiet.vn/embed/kjukluxvq?days=5' },
  { id:'SonLa', name:'Sơn La', src:'https://thoitiet.vn/embed/wzipduxgk?days=5' },
  { id:'YenBai', name:'Yên Bái', src:'https://thoitiet.vn/embed/pqckbugqa?days=5' },
  { id:'HoaBinh', name:'Hoà Bình', src:'https://thoitiet.vn/embed/qatywuaxk?days=5' },
  { id:'ThaiNguyen', name:'Thái Nguyên', src:'https://thoitiet.vn/embed/zrhkluoyk?days=5' },
  { id:'LangSon', name:'Lạng Sơn', src:'https://thoitiet.vn/embed/rospyuvol?days=5' },
  { id:'BacGiang', name:'Bắc Giang', src:'https://thoitiet.vn/embed/mpupguvkp?days=5' },
  { id:'PhuTho', name:'Phú Thọ', src:'https://thoitiet.vn/embed/lmiwrubyp?days=5' },
  { id:'VinhPhuc', name:'Vĩnh Phúc', src:'https://thoitiet.vn/embed/obqcxquzkp?days=5' },
  { id:'BacNinh', name:'Bắc Ninh', src:'https://thoitiet.vn/embed/vxxtypubzd?days=5' },
  { id:'HaNam', name:'Hà Nam', src:'https://thoitiet.vn/embed/ygviapulmz?days=5' },
  { id:'NamDinh', name:'Nam Định', src:'https://thoitiet.vn/embed/aqpcgdujwm?days=5' },
  { id:'ThaiBinh', name:'Thái Bình', src:'https://thoitiet.vn/embed/bzjurzuvxy?days=5' },
  { id:'NinhBinh', name:'Ninh Bình', src:'https://thoitiet.vn/embed/kmjtkluxvq?days=5' },
  { id:'HaNoi', name:'Hà Nội', src:'https://thoitiet.vn/embed/hn-widget?days=5' },
  { id:'HaiPhong', name:'Hải Phòng', src:'https://thoitiet.vn/embed/gaqslguzxv?days=5' },
  { id:'QuangNinh', name:'Quảng Ninh', src:'https://thoitiet.vn/embed/dpfrouayq?days=5' },
  { id:'HaiDuong', name:'Hải Dương', src:'https://thoitiet.vn/embed/jpdhakujaz?days=5' },
  { id:'HungYen', name:'Hưng Yên', src:'https://thoitiet.vn/embed/dpfrouayq?days=5' },
  { id:'BacLieu', name:'Bạc Liêu', src:'https://thoitiet.vn/embed/qqasywuaxk?days=5' },
  { id:'CaMau', name:'Cà Mau', src:'https://thoitiet.vn/embed/zdrfkluoyk?days=5' },
  { id:'BenTre', name:'Bến Tre', src:'https://thoitiet.vn/embed/jodtakujaz?days=5' },
  { id:'VinhLong', name:'Vĩnh Long', src:'https://thoitiet.vn/embed/xkgsqruwqo?days=5' },
  { id:'TraVinh', name:'Trà Vinh', src:'https://thoitiet.vn/embed/gqqhlguzxv?days=5' },
  { id:'TienGiang', name:'Tiền Giang', src:'https://thoitiet.vn/embed/tiengiang-widget?days=5' },
  { id:'LongAn', name:'Long An', src:'https://thoitiet.vn/embed/okqixquzkp?days=5' },
  { id:'DakLak', name:'Đắk Lắk', src:'https://thoitiet.vn/embed/kdjfkluxvq?days=5' },
  { id:'DakNong', name:'Đắk Nông', src:'https://thoitiet.vn/embed/wozupduxgk?days=5' },
  { id:'LamDong', name:'Lâm Đồng', src:'https://thoitiet.vn/embed/pjqikbugqa?days=5' },
  { id:'BinhPhuoc', name:'Bình Phước', src:'https://thoitiet.vn/embed/qjacywuaxk?days=5' },
  { id:'BinhDuong', name:'Bình Dương', src:'https://thoitiet.vn/embed/rdohpyuvol?days=5' },
  { id:'DongNai', name:'Đồng Nai', src:'https://thoitiet.vn/embed/dapsrouayq?days=5' },
  { id:'BaRia', name:'Bà Rịa - Vũng Tàu', src:'https://thoitiet.vn/embed/mrpfpguvkp?days=5' },
  { id:'HoChiMinh', name:'Hồ Chí Minh', src:'https://thoitiet.vn/embed/lxmuwrubyp?days=5' },
  { id:'TayNinh', name:'Tây Ninh', src:'https://thoitiet.vn/embed/zprtkluoyk?days=5' },
  { id:'AnGiang', name:'An Giang', src:'https://thoitiet.vn/embed/yyvuapulmz?days=5' },
  { id:'KienGiang', name:'Kiên Giang', src:'https://thoitiet.vn/embed/aypigdujwm?days=5' },
  { id:'CanTho', name:'Cần Thơ', src:'https://thoitiet.vn/embed/kajckluxvq?days=5' },
  { id:'HauGiang', name:'Hậu Giang', src:'https://thoitiet.vn/embed/waztpduxgk?days=5' },
  { id:'SocTrang', name:'Sóc Trăng', src:'https://thoitiet.vn/embed/soctrang-widget?days=5' },
  { id:'BinhThuan', name:'Bình Thuận', src:'https://thoitiet.vn/embed/bpjtrzuvxy?days=5' },
  { id:'NinhThuan', name:'Ninh Thuận', src:'https://thoitiet.vn/embed/xbgcqruwqo?days=5' },
  { id:'QuangBinh', name:'Quảng Bình', src:'https://thoitiet.vn/embed/zjrukluoyk?days=5' },
  { id:'QuangTri', name:'Quảng Trị', src:'https://thoitiet.vn/embed/rboipyuvol?days=5' },
  { id:'ThienHue', name:'Thừa Thiên Huế', src:'https://thoitiet.vn/embed/dzpcrouayq?days=5' },
  { id:'QuangNam', name:'Quảng Nam', src:'https://thoitiet.vn/embed/lzmhwrubyp?days=5' },
  { id:'QuangNgai', name:'Quảng Ngãi', src:'https://thoitiet.vn/embed/ovqsxquzkp?days=5' },
  { id:'BinhDinh', name:'Bình Định', src:'https://thoitiet.vn/embed/voxfypubzd?days=5' },
  { id:'PhuYen', name:'Phú Yên', src:'https://thoitiet.vn/embed/jdduakujaz?days=5' },
  { id:'GiaLai', name:'Gia Lai', src:'https://thoitiet.vn/embed/ajpsgdujwm?days=5' },
  { id:'KonTum', name:'Kon Tum', src:'https://thoitiet.vn/embed/ylvhapulmz?days=5' },
  { id:'DaNang', name:'Đà Nẵng', src:'https://thoitiet.vn/embed/mlptpguvkp?days=5' },
];

// Render widget
const container = document.getElementById('weather-container');
regions.forEach(region => {
    const card = document.createElement('div');
    card.className = 'weather-card';
    card.innerHTML = `<h3>${region.name}</h3><iframe src="${region.src}" frameborder="0"></iframe>`;
    container.appendChild(card);
});

// Hiển thị giờ & ngày
function updateTime() {
    const now = new Date();
    document.getElementById('time').textContent = now.toLocaleTimeString('vi-VN', { hour12:false });
    document.getElementById('date').textContent = now.toLocaleDateString('vi-VN', { weekday:'long', day:'numeric', month:'long', year:'numeric' });
}
setInterval(updateTime, 1000);
updateTime();

// Chế độ tối/sáng
const themeBtn = document.getElementById('theme-toggle');
const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
document.body.classList.add(prefersDark ? 'dark' : 'light');
themeBtn.addEventListener('click', ()=>{
    document.body.classList.toggle('dark');
    document.body.classList.toggle('light');
});

// Âm thanh tự nhiên với toggle
let currentAudio = null;
document.querySelectorAll('.sound-controls button').forEach(btn => {
    btn.addEventListener('click', () => {
        const sound = btn.dataset.sound;
        if (currentAudio && !currentAudio.paused && currentAudio.src.includes(sound)) {
            currentAudio.pause();
            currentAudio = null;
            return;
        }
        if (currentAudio) currentAudio.pause();

        currentAudio = new Audio(`sounds/${sound}.mp3`);
        currentAudio.loop = true;
        currentAudio.play();
    });
});
</script>
</body>
</html>
