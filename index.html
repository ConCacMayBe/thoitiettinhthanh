<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Th·ªùi ti·∫øt Vi·ªát Nam</title>
<link rel="manifest" href="manifest.json">
<style>
:root {
    --bg-light: #e0f7fa;
    --bg-dark: #121212;
    --text-light: #000;
    --text-dark: #fff;
}
body {
    font-family: 'Segoe UI', sans-serif;
    margin: 0;
    padding: 0;
    transition: background-color 0.3s, color 0.3s;
}
body.light { background-color: var(--bg-light); color: var(--text-light); }
body.dark { background-color: var(--bg-dark); color: var(--text-dark); }

.container { max-width: 1000px; margin: 0 auto; padding: 20px; }
header { text-align: center; margin-bottom: 20px; }
header h1 { margin-bottom: 10px; }
.datetime { font-size: 1.1em; margin-bottom: 10px; }
button { padding: 10px 15px; margin: 5px; border: none; border-radius: 10px; cursor: pointer; }
button:hover { opacity: 0.8; }

.weather-container { display: flex; flex-wrap: wrap; gap: 15px; justify-content: center; }
.weather-card { flex: 1 1 300px; background: rgba(255,255,255,0.2); backdrop-filter: blur(10px); padding: 15px; border-radius: 15px; text-align: center; min-width: 280px; }
.weather-card iframe { width: 100%; height: 300px; border: none; border-radius: 10px; }

.sound-controls, .chat-container { text-align: center; margin-top: 10px; }
.chat-box { max-width: 500px; margin: 0 auto; padding: 10px; border: 1px solid #ccc; border-radius: 10px; height: 300px; overflow-y: auto; background: rgba(255,255,255,0.1); }
.chat-input { width: 70%; padding: 10px; margin-top: 5px; border-radius: 10px; border: 1px solid #ccc; }
.chat-send { padding: 10px 15px; margin-left: 5px; border-radius: 10px; cursor: pointer; }

.chat-message { margin: 5px 0; padding: 5px 10px; border-radius: 10px; display: inline-block; max-width: 80%; }
.chat-user { background: #00bcd4; color: #fff; text-align: right; float: right; clear: both; }
.chat-ai { background: #4caf50; color: #fff; text-align: left; float: left; clear: both; }
</style>
</head>
<body>
<div class="container">
    <header>
        <h1>üåßÔ∏è Th·ªùi ti·∫øt Vi·ªát Nam + AI Chat</h1>
        <div class="datetime">
            <span id="time"></span> | <span id="date"></span>
        </div>
        <button id="theme-toggle">Ch·∫ø ƒë·ªô t·ªëi/s√°ng</button>
    </header>

    <main>
        <!-- √Çm thanh -->
        <div class="sound-controls">
            <button data-sound="rain">M∆∞a</button>
            <button data-sound="thunder">S·∫•m</button>
            <button data-sound="cicada">Ve</button>
            <button id="toggle-sound">B·∫≠t/T·∫Øt √¢m thanh</button>
        </div>

        <!-- Weather widgets -->
        <div class="weather-container" id="weather-container"></div>

        <!-- AI Chat -->
        <div class="chat-container">
            <h2>AI Chat</h2>
            <div class="chat-box" id="chat-box"></div>
            <input type="text" id="chat-input" class="chat-input" placeholder="Nh·∫≠p tin nh·∫Øn...">
            <button id="chat-send" class="chat-send">G·ª≠i</button>
        </div>
    </main>
</div>

<script>
// Danh s√°ch 63 t·ªânh th√†nh Vi·ªát Nam v·ªõi widget
const regions = [
{ id:'HaGiang', name:'H√† Giang', src:'https://thoitiet.vn/embed/jdiakujaz?days=5' },
{ id:'CaoBang', name:'Cao B·∫±ng', src:'https://thoitiet.vn/embed/gqclguzxv?days=5' },
{ id:'BacKan', name:'B·∫Øc K·∫°n', src:'https://thoitiet.vn/embed/xgtqruwqo?days=5' },
{ id:'TuyenQuang', name:'Tuy√™n Quang', src:'https://thoitiet.vn/embed/bjhrzuvxy?days=5' },
{ id:'LaoCai', name:'L√†o Cai', src:'https://thoitiet.vn/embed/yvsapulmz?days=5' },
{ id:'DienBien', name:'ƒêi·ªán Bi√™n', src:'https://thoitiet.vn/embed/apfgdujwm?days=5' },
{ id:'LaiChau', name:'Lai Ch√¢u', src:'https://thoitiet.vn/embed/kjukluxvq?days=5' },
{ id:'SonLa', name:'S∆°n La', src:'https://thoitiet.vn/embed/wzipduxgk?days=5' },
{ id:'YenBai', name:'Y√™n B√°i', src:'https://thoitiet.vn/embed/pqckbugqa?days=5' },
{ id:'HoaBinh', name:'Ho√† B√¨nh', src:'https://thoitiet.vn/embed/qatywuaxk?days=5' },
{ id:'ThaiNguyen', name:'Th√°i Nguy√™n', src:'https://thoitiet.vn/embed/zrhkluoyk?days=5' },
{ id:'LangSon', name:'L·∫°ng S∆°n', src:'https://thoitiet.vn/embed/rospyuvol?days=5' },
{ id:'BacGiang', name:'B·∫Øc Giang', src:'https://thoitiet.vn/embed/mpupguvkp?days=5' },
{ id:'PhuTho', name:'Ph√∫ Th·ªç', src:'https://thoitiet.vn/embed/lmiwrubyp?days=5' },
{ id:'VinhPhuc', name:'Vƒ©nh Ph√∫c', src:'https://thoitiet.vn/embed/obqcxquzkp?days=5' },
{ id:'BacNinh', name:'B·∫Øc Ninh', src:'https://thoitiet.vn/embed/vxxtypubzd?days=5' },
{ id:'HaNam', name:'H√† Nam', src:'https://thoitiet.vn/embed/ygviapulmz?days=5' },
{ id:'NamDinh', name:'Nam ƒê·ªãnh', src:'https://thoitiet.vn/embed/aqpcgdujwm?days=5' },
{ id:'ThaiBinh', name:'Th√°i B√¨nh', src:'https://thoitiet.vn/embed/bzjurzuvxy?days=5' },
{ id:'NinhBinh', name:'Ninh B√¨nh', src:'https://thoitiet.vn/embed/kmjtkluxvq?days=5' },
{ id:'HaNoi', name:'üéñÔ∏èH√† N·ªôi', src:'https://thoitiet.vn/embed/vxuypubzd?days=5&hC=%23ffffff&hB=%23FF0000&tC=%23848484&bC=%23FF0000&lC=%23dddddd' },
{ id:'HaiPhong', name:'H·∫£i Ph√≤ng', src:'https://thoitiet.vn/embed/gaqslguzxv?days=5' },
{ id:'QuangNinh', name:'Qu·∫£ng Ninh', src:'https://thoitiet.vn/embed/dpfrouayq?days=5' },
{ id:'HaiDuong', name:'H·∫£i D∆∞∆°ng', src:'https://thoitiet.vn/embed/jpdhakujaz?days=5' },
{ id:'HungYen', name:'H∆∞ng Y√™n', src:'https://thoitiet.vn/embed/dpfrouayq?days=5' },
{ id:'ThaiBinh', name:'Th√°i B√¨nh', src:'https://thoitiet.vn/embed/bzjurzuvxy?days=5' },
{ id:'NamDinh', name:'Nam ƒê·ªãnh', src:'https://thoitiet.vn/embed/aqpcgdujwm?days=5' },
{ id:'NinhBinh', name:'Ninh B√¨nh', src:'https://thoitiet.vn/embed/kmjtkluxvq?days=5' },
{ id:'ThanhHoa', name:'Thanh H√≥a', src:'https://thoitiet.vn/embed/xyz123?days=5' },
{ id:'NgheAn', name:'Ngh·ªá An', src:'https://thoitiet.vn/embed/xyz456?days=5' },
{ id:'HaTinh', name:'H√† Tƒ©nh', src:'https://thoitiet.vn/embed/xyz789?days=5' },
{ id:'QuangBinh', name:'Qu·∫£ng B√¨nh', src:'https://thoitiet.vn/embed/zjrukluoyk?days=5' },
{ id:'QuangTri', name:'Qu·∫£ng Tr·ªã', src:'https://thoitiet.vn/embed/rboipyuvol?days=5' },
{ id:'ThuaThienHue', name:'Th·ª´a Thi√™n Hu·∫ø', src:'https://thoitiet.vn/embed/dzpcrouayq?days=5' },
{ id:'DaNang', name:'ƒê√† N·∫µng', src:'https://thoitiet.vn/embed/mlptpguvkp?days=5' },
{ id:'QuangNam', name:'Qu·∫£ng Nam', src:'https://thoitiet.vn/embed/lzmhwrubyp?days=5' },
{ id:'QuangNgai', name:'Qu·∫£ng Ng√£i', src:'https://thoitiet.vn/embed/ovqsxquzkp?days=5' },
{ id:'BinhDinh', name:'B√¨nh ƒê·ªãnh', src:'https://thoitiet.vn/embed/voxfypubzd?days=5' },
{ id:'PhuYen', name:'Ph√∫ Y√™n', src:'https://thoitiet.vn/embed/jdduakujaz?days=5' },
{ id:'KhanhHoa', name:'Kh√°nh H√≤a', src:'https://thoitiet.vn/embed/xyz101?days=5' },
{ id:'GiaLai', name:'Gia Lai', src:'https://thoitiet.vn/embed/ajpsgdujwm?days=5' },
{ id:'KonTum', name:'Kon Tum', src:'https://thoitiet.vn/embed/ylvhapulmz?days=5' },
{ id:'DakLak', name:'ƒê·∫Øk L·∫Øk', src:'https://thoitiet.vn/embed/kdjfkluxvq?days=5' },
{ id:'DakNong', name:'ƒê·∫Øk N√¥ng', src:'https://thoitiet.vn/embed/wozupduxgk?days=5' },
{ id:'LamDong', name:'L√¢m ƒê·ªìng', src:'https://thoitiet.vn/embed/pjqikbugqa?days=5' },
{ id:'BinhPhuoc', name:'B√¨nh Ph∆∞·ªõc', src:'https://thoitiet.vn/embed/qjacywuaxk?days=5' },
{ id:'BinhDuong', name:'B√¨nh D∆∞∆°ng', src:'https://thoitiet.vn/embed/rdohpyuvol?days=5' },
{ id:'DongNai', name:'ƒê·ªìng Nai', src:'https://thoitiet.vn/embed/dapsrouayq?days=5' },
{ id:'BaRiaVungTau', name:'B√† R·ªãa - V≈©ng T√†u', src:'https://thoitiet.vn/embed/mrpfpguvkp?days=5' },
{ id:'HoChiMinh', name:'H·ªì Ch√≠ Minh', src:'https://thoitiet.vn/embed/lxmuwrubyp?days=5' },
{ id:'TayNinh', name:'T√¢y Ninh', src:'https://thoitiet.vn/embed/zprtkluoyk?days=5' },
{ id:'BinhThuan', name:'B√¨nh Thu·∫≠n', src:'https://thoitiet.vn/embed/bpjtrzuvxy?days=5' },
{ id:'LongAn', name:'Long An', src:'https://thoitiet.vn/embed/okqixquzkp?days=5' },
{ id:'TienGiang', name:'Ti·ªÅn Giang', src:'https://thoitiet.vn/embed/vvxcypubzd?days=5&hC=%23ffffff&hB=%23FF0000&tC=%23848484&bC=%23FF0000&lC=%23dddddd' },
{ id:'BenTre', name:'B·∫øn Tre', src:'https://thoitiet.vn/embed/jodtakujaz?days=5' },
{ id:'TraVinh', name:'Tr√† Vinh', src:'https://thoitiet.vn/embed/gqqhlguzxv?days=5' },
{ id:'VinhLong', name:'Vƒ©nh Long', src:'https://thoitiet.vn/embed/xkgsqruwqo?days=5' },
{ id:'SocTrang', name:'S√≥c TrƒÉng', src:'https://thoitiet.vn/embed/pwqhkbugqa?days=5&hC=%23ffffff&hB=%23FF0000&tC=%23848484&bC=%23FF0000&lC=%23dddddd' },
{ id:'CanTho', name:'C·∫ßn Th∆°', src:'https://thoitiet.vn/embed/kajckluxvq?days=5' },
{ id:'HauGiang', name:'H·∫≠u Giang', src:'https://thoitiet.vn/embed/waztpduxgk?days=5' },
{ id:'KienGiang', name:'Ki√™n Giang', src:'https://thoitiet.vn/embed/aypigdujwm?days=5' },
{ id:'CaMau', name:'C√† Mau', src:'https://thoitiet.vn/embed/zdrfkluoyk?days=5' }
];

const weatherContainer = document.getElementById('weather-container');
regions.forEach(region=>{
    const card = document.createElement('div');
    card.className = 'weather-card';
    card.innerHTML = `<h3>${region.name}</h3><iframe src="${region.src}" frameborder="0"></iframe>`;
    weatherContainer.appendChild(card);
});

// Gi·ªù & ng√†y
function updateTime() {
    const now = new Date();
    document.getElementById('time').textContent = now.toLocaleTimeString('vi-VN', { hour12:false });
    document.getElementById('date').textContent = now.toLocaleDateString('vi-VN', { weekday:'long', day:'numeric', month:'long', year:'numeric' });
}
setInterval(updateTime, 1000);
updateTime();

// Ch·∫ø ƒë·ªô t·ªëi/s√°ng
const themeBtn = document.getElementById('theme-toggle');
const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
document.body.classList.add(prefersDark ? 'dark' : 'light');
themeBtn.addEventListener('click', ()=>{
    document.body.classList.toggle('dark');
    document.body.classList.toggle('light');
});

// √Çm thanh
let currentAudio = null;
let soundEnabled = false;
document.querySelectorAll('.sound-controls button[data-sound]').forEach(btn=>{
    btn.addEventListener('click', ()=>{
        const sound = btn.dataset.sound;
        if(currentAudio) currentAudio.pause();
        currentAudio = new Audio(`sounds/${sound}.mp3`);
        currentAudio.loop = true;
        currentAudio.muted = !soundEnabled;
        currentAudio.play();
    });
});
document.getElementById('toggle-sound').addEventListener('click', ()=>{
    soundEnabled = !soundEnabled;
    if(currentAudio) currentAudio.muted = !soundEnabled;
});

// AI Chat
const chatBox = document.getElementById('chat-box');
const chatInput = document.getElementById('chat-input');
const chatSend = document.getElementById('chat-send');
function appendMessage(text, type='ai'){
    const msg = document.createElement('div');
    msg.className = `chat-message ${type==='user'?'chat-user':'chat-ai'}`;
    msg.textContent = text;
    chatBox.appendChild(msg);
    chatBox.scrollTop = chatBox.scrollHeight;
}
chatSend.addEventListener('click', ()=>{
    const text = chatInput.value.trim();
    if(!text) return;
    appendMessage(text, 'user');
    chatInput.value='';
    setTimeout(()=>{ appendMessage('AI tr·∫£ l·ªùi: "'+text+'"','ai'); }, 500);
});
chatInput.addEventListener('keypress', e=>{
    if(e.key==='Enter') chatSend.click();
});
</script>
</body>
</html>
